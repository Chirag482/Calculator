<!DOCTYPE html>
<html>
  <head>
    <title>Calculator</title>
    <link type="text/css" rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div id="calculator">
      <div id="display-container">
        <p id="display"></p>
      </div>
      <div id="buttons-container">
        <div class="button" id="button-clear" data-value="ac">AC</div>
        <div class="button" id="button-sign" data-value="sign">
          <span>+/-</span>
        </div>
        <div class="button" id="button-percent" data-value="%">
          <span> % </span>
        </div>
        <div class="button red" data-value="/" id="button-divide">
          <span> / </span>
        </div>
        <div class="button" id="button-seven" data-value="7">
          <span>7</span>
        </div>
        <div class="button" id="button-eight" data-value="8">
          <span>8</span>
        </div>
        <div class="button" id="button-nine" data-value="9">
          <span>9</span>
        </div>
        <div class="button red" id="button-multiply" data-value="*">
          <span>*</span>
        </div>
        <div class="button" id="button-four" data-value="4">
          <span>4</span>
        </div>
        <div class="button" id="button-five" data-value="5">
          <span>5</span>
        </div>
        <div class="button" id="button-six" data-value="6">
          <span>6</span>
        </div>
        <div class="button red" id="button-minus" data-value="-">
          <span>-</span>
        </div>
        <div class="button" id="button-one" data-value="1">
          <span> 1 </span>
        </div>
        <div class="button" id="button-two" data-value="2">
          <span> 2 </span>
        </div>
        <div class="button" id="button-three" data-value="3">
          <span> 3 </span>
        </div>
        <div class="button red" id="button-plus" data-value="+">
          <span> + </span>
        </div>
        <div class="button" id="button-zero" data-value="0">
          <span> 0 </span>
        </div>
        <div class="button" id="button-decimal" data-value=".">
          <span> . </span>
        </div>
        <div class="button red" id="button-equals" data-value="=">
          <span> = </span>
        </div>
      </div>
    </div>

    <script>
      var buttons = document.getElementsByClassName("button");
      var display = document.getElementById("display");
      var operand1 = null;
      var operand2 = null;
      var operator = null;

      function isoperator(value) {
        return value == "+" || value == "-" || value == "*" || value == "/";
      }
      for (var i = 0; i < buttons.length; i++) {
        buttons[i].addEventListener("click", function () {
          var value = this.getAttribute("data-value");
          var text = display.textContent.trim();
          if (isoperator(value)) {
            operand1 = parseFloat(display.textContent);
            display.textContent = "";
            operator = value;
          } else if (value == "ac") {
            value = "";
            display.textContent = value;
            operand2 = null;
            operand1 = 0;
            operator = null;
          } else if (value == "sign") {
            operand1 = parseFloat(display.textContent);
            operand1 *= -1;
            display.textContent = operand1;
          } else if (value == "=") {
            operand2 = parseFloat(display.textContent);
            var res = eval(operand1 + " " + operator + " " + operand2);
            if (res) {
              display.textContent = res;
              operand1 = operand2;
              operand2 = null;
              operator = null;
            }
          } else if (value == ".") {
            if (text.length && !text.includes(".")) {
              display.textContent = text + ".";
            }
          } else if (value == "%") {
            operand1 = parseFloat(text);
            operand1 = operand1 / 100;
            display.textContent = operand1;
          } else {
            display.innerHTML += value;
          }
        });
      }
    </script>
  </body>
</html>
